!function(s){var i,n={url:null,data:{}};window.CalOnline=function(a,t){this.$self=a,this.init(t)},meth=CalOnline.prototype,meth.init=function(a){var o=this,t=o.$self;if(!0!==o.inited){o.defaults=s.extend(!0,{},n,s.fn.CalOnline.defaults),o.options=a||{},o.dataOptions=s(t).data("CalOnline")||{},o.settings=s.extend(!0,{},o.defaults,o.options,o.dataOptions),s(t).trigger("beforeInit.plgt",[o,o.settings]);var e=s(t),r=o.layout={$square:e.find("[data-calc-square]"),$lamps:e.find("[data-calc-lamps]"),$corners:e.find("[data-calc-corners]"),$material:e.find("[data-calc-material]"),$result:e.find("[data-calc-result]"),$calculate:e.find("[data-calc-calculate]")};s.each(o.settings.data,function(a,e){var t,n;s.each(e.square,function(a,t){e.square[a]=Number(e.square[a])}),t=i.getMaxOfArray(Object.keys(e.square)),n=i.getMinOfArray(Object.keys(e.square)),e.square.maxM=t,e.square.minM=n}),r.$material.empty(),s.each(o.settings.data,function(a,t){r.$material.append('<option value="'+a+'">'+a+"</option>")}),r.$calculate.on("click",function(){o.calculate()}),s().add(r.$square).add(r.$lamps).add(r.$corners).on("keypress input",function(a){var t=this.value+String.fromCharCode(a.charCode);if(!/^\d{1,4}$/.test(t))return!1}),r.$square.on("input",function(a){var t,e=this,n=o.settings.data[r.$material.val()].square,i=n.maxM,l=n.minM;e.value>i?t=i:e.value<l&&(t=l),t&&(e.value=t)}),o.inited=!0,s(t).trigger("afterInit.plgt",[o,o.settings])}},meth.calculate=function(a,t){var e=this,n=(e.$self,e.settings.data),i=e.layout,l=i.$material.find("option:selected").val(),o=Number(i.$square.val())||0,r=Number(i.$lamps.val())||0,s=Number(i.$corners.val())||0,d=Number(n[l].square[o])*o+Number(n[l].lamps)*r+Number(n[l].corners)*s;d&&"number"==typeof d?i.$result.text(d+" руб."):i.$result.text("—")},meth.destroy=function(){var a=this.$self;this.inited&&(s(a).removeAttr("style"),delete a.CalOnline)},meth.reinit=function(a){var t=this,e=t.$self,n="object"==typeof a&&0!=Object.keys(a).length?a:s.extend(!0,{},t.settings);t.destroy(),s(e).CalOnline(n)},i={getRndNum:function(a,t){return Math.round(a-.5+Math.random()*(t-a+1))},getMaxOfArray:function(a){return Math.max.apply(null,a)},getMinOfArray:function(a){return Math.min.apply(null,a)}},s.fn.CalOnline=function(){var n="CalOnline",e=arguments,i=e[0];function l(a,t,e){if(a[n]instanceof CalOnline&&t in a[n])return a[n][t].apply(a[n],Array.prototype.slice.call(e,1))}function o(a,t){if(!(a[n]instanceof CalOnline))return new CalOnline(a,t)}return s.each(this,function(a,t){"object"==typeof i||void 0===i?t[n]=o(t,i):"init"===i||"reinit"===i?t[n]?l(t,i,e):t[n]=o(t,e[1]):l(t,i,e)}),this},s.fn.CalOnline.defaults=n}(jQuery),$(document).ready(function(){$("[data-calc]").CalOnline({url:"",data:{"Мат":{square:{1:1590,2:1680,3:1770},corners:40,lamps:250},"Сатин":{square:{1:1590,2:1680,3:1770},corners:40,lamps:250},"Глянец":{square:{1:1595,2:1690,3:1785},corners:40,lamps:250}}});var o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path d="M10.707 23.707l-1.561-1.414-9.146 9v1.414l9.146 9 1.488-1.414-7.22-7.293h60.586v-2h-60.586z"/></svg>',r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path d="M53.293 40.293l1.561 1.414 9.146-9v-1.414l-9.146-9-1.488 1.414 7.22 7.293h-60.586v2h60.586z"/></svg>';(new universalParallax).init({speed:2});var a=document.getElementById("scene");function f(a,t){var e=t-a.toString().length+1;return Array(+(0<e&&e)).join("0")+a}function m(t,e,a,n,i){a=0<=a?a/1e3:"",n=0<=n?n/1e3:"";t.addClass("animated "+e).css({"animation-duration":a+"s","animation-delay":n+"s"}),t.on("animationend",function a(){t.removeClass("animated "+e).css({"animation-duration":"","animation-delay":""}),t.off("animationend",a),"function"==typeof i&&i()})}a&&new Parallax(a),svg4everybody(),objectFitImages(),$("[data-lazy-img]").Lazy({effect:"fadeIn",effectTime:750,afterLoad:function(a){a.css("display",""),a.removeClass("lazy-preloader")}}),$("[data-lazy-bg]").Lazy({effect:"fadeIn",effectTime:0}),$.fancybox.defaults=$.extend({},$.fancybox.defaults,{touch:!1,transitionEffect:"slide",transitionDuration:500,lang:"ru",i18n:{ru:{CLOSE:"Закрыть",NEXT:"Далее",PREV:"Назад",ERROR:"Ошибка. Содержимое не найдено.",PLAY_START:"Запустить слайд-шоу",PLAY_STOP:"Остановить слайд-шоу",FULL_SCREEN:"На весь экран",THUMBS:"Миниатюры",DOWNLOAD:"Скачать",SHARE:"Поделиться",ZOOM:"Масштаб"}}}),$("[data-fancybox-open]").on("click",function(a){var t=$(this).data("fancybox-open");$('[data-fancybox="'+t+'"]').eq(0).trigger("click"),a.preventDefault()}),$("select").selectric();var t=$("[data-main-menu]"),n=t.find("li");$(".app-main-menu-hamburger").on("click",function(){var e=0;$(this).toggleClass("is-active"),t.toggleClass("active"),t.hasClass("active")&&n.each(function(a,t){m($(t),"slideInRight",450,e),e+=65})}),$("[data-gallery-main]").each(function(a,t){var e=$(t),n=e.find(".owl-carousel"),i=$('[data-gallery-main-nav="'+e.data("gallery-main")+'"]'),l=$.extend({},{items:1,loop:!0,nav:!0,dots:!1,lazyLoad:!0,lazyLoadEager:1,animateOut:"zoomOut",animateIn:"fadeInLeft",smartSpeed:450,navText:['<button class="btn btn-circle btn-circle_accent">'+o+"</button>",'<button class="btn btn-circle btn-circle_accent">'+r+"</button>"],onInitialized:function(){$(this).fadeIn()},onLoadedLazy:function(a){$(a.element).parent().removeClass("preloader-blue")}},n.data("owl"));n.owlCarousel(l),n.removeAllSlides=function(){var e=$(this);return e.find(".owl-item:not(.cloned)").each(function(a,t){e.trigger("remove.owl.carousel",a)}),this},n.addSlides=function(a){var t=$(this);return(a=a||[]).forEach(function(a){t.trigger("add.owl.carousel",'<div class="gallery-main__item"><div class="gallery-main__item-wrap preloader-blue"><img class="gallery-main__img owl-lazy" data-src="'+a+'" alt="photo"></div></div>')}),this},i.on("click","a",function(a){var t=$(this).parents("li").eq(0);i.find("li").removeClass("active"),t.addClass("active"),n.removeAllSlides().addSlides($(this).data("images")).trigger("destroy.owl.carousel").owlCarousel(l),a.preventDefault()}),i.find("li.active a").eq(0).trigger("click")});function v(a){if(a.item){var t=a.item.index-1,e=a.item.count;return e<t&&(t-=e),t<=0&&(t+=e),t}}var e=$("[data-slider-reviews]");e.each(function(a,t){var e=$(t),n=e.data("slider-reviews"),i=e.find('[data-slider-reviews-photos="'+n+'"]'),l=e.find('[data-slider-reviews-texts="'+n+'"]'),o=e.find('[data-slider-reviews-controls="'+n+'"]'),r=o.find("[data-prev]"),s=o.find("[data-next]"),d=o.find("[data-all]"),c=o.find("[data-current]"),u=e.find('[data-slider-reviews-substrate="'+n+'"]');l.on("initialized.owl.carousel",function(a){c.html(f(v(a),2)),d.html(f(a.item.count,2))}),i.on("changed.owl.carousel",function(t){var e=u.find("img");setTimeout(function(){var a=$(t.target).find(".owl-item.active img").attr("src");m(e,"fadeOut",1,0,function(){e.attr("src",a),m(e,"zoomIn",900,0)})},0)}),l.on("changed.owl.carousel",function(a){if(a.namespace&&"position"===a.property.name){var t=a.relatedTarget.relative(a.property.value,!0);i.owlCarousel("to",t)}c.html(f(v(a),2))}),i.owlCarousel($.extend({},{items:1,dots:!1,loop:!0,lazyLoad:!0,lazyLoadEager:1,mouseDrag:!1,touchDrag:!1,pullDrag:!1,freeDrag:!1,animateOut:"fadeOut",animateIn:"fadeIn",smartSpeed:450},i.data("owl")||{})),l.owlCarousel($.extend({},{items:1,dots:!1,loop:!0,autoHeight:!0,smartSpeed:450,animateOut:"zoomOut",animateIn:"fadeInLeft"},l.data("owl")||{})),s.on("click",function(){l.trigger("next.owl.carousel")}),r.on("click",function(){l.trigger("prev.owl.carousel")})}),$("[data-slider-discounts]").each(function(a,t){var e=$(t),n=e.find(".owl-carousel"),i=e.data("slider-discounts");n.owlCarousel($.extend({},{items:1,autoHeight:!0,loop:!1,dots:!0,nav:!1,lazyLoad:!0,lazyLoadEager:1,smartSpeed:450,animateOut:"zoomOut",animateIn:"fadeInRight",navContainer:'[data-slider-discounts-nav="'+i+'"]',dotsContainer:'[data-slider-discounts-dots="'+i+'"]',navText:['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 386.258 386.258" enable-background="new 0 0 386.258 386.258"><path d="M96.879 193.129l192.5 193.129v-386.258z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 386.258 386.258" enable-background="new 0 0 386.258 386.258"><path d="M96.879 0v386.258l192.5-193.129z"/></svg>']},n.data("owl")||{}))}),$("a.scroll-to").click(function(a){var t=$(this).attr("href"),e=$(t).offset().top;$("html:not(:animated),body:not(:animated)").animate({scrollTop:e},1100,$.bez([.455,.03,.515,.955])),a.preventDefault()});var i=$("#top-button"),l=$(window).height();function s(){var a=$(window).scrollTop();l<a&&(""==i.attr("class")||null==i.attr("class"))&&i.fadeIn().removeClass("down").addClass("up").attr("title","Наверх"),a<l&&"up"==i.attr("class")&&i.fadeOut().removeClass("up down"),l<a&&"down"==i.attr("class")&&i.fadeIn().removeClass("down").addClass("up")}$(window).bind("scroll",s);var d=0;i.bind("click",function(){scrollOut=$(window).scrollTop(),"up"==i.attr("class")&&(d=scrollOut,$(window).unbind("scroll",s),$("body, html").animate({scrollTop:0},1200,$.bez([.455,.03,.515,.955]),function(){i.removeClass("up").addClass("down").attr("title","Вернуться"),$(window).bind("scroll",s)})),"down"==i.attr("class")&&($(window).unbind("scroll",s),$("body, html").animate({scrollTop:d},1200,$.bez([.455,.03,.515,.955]),function(){i.removeClass("down").addClass("up").attr("title","Наверх"),$(window).bind("scroll",s)}))})});